{"ast":null,"code":"function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}import createAtomicRules from\"./createAtomicRules\";import hash from\"../../vendor/hash\";import initialRules from\"./initialRules\";import WebStyleSheet from\"./WebStyleSheet\";var emptyObject={};var STYLE_ELEMENT_ID='react-native-stylesheet';var createClassName=function createClassName(prop,value){var hashed=hash(prop+normalizeValue(value));return process.env.NODE_ENV!=='production'?'rn-'+prop+'-'+hashed:'rn-'+hashed;};var normalizeValue=function normalizeValue(value){return typeof value==='object'?JSON.stringify(value):value;};var StyleSheetManager=function(){function StyleSheetManager(){var _this=this;_classCallCheck(this,StyleSheetManager);this._cache={byClassName:{},byProp:{}};this._sheet=new WebStyleSheet(STYLE_ELEMENT_ID);initialRules.forEach(function(rule){_this._sheet.insertRuleOnce(rule);});}StyleSheetManager.prototype.getClassName=function getClassName(prop,value){var val=normalizeValue(value);var cache=this._cache.byProp;return cache[prop]&&cache[prop].hasOwnProperty(val)&&cache[prop][val];};StyleSheetManager.prototype.getDeclaration=function getDeclaration(className){var cache=this._cache.byClassName;return cache[className]||emptyObject;};StyleSheetManager.prototype.getStyleSheet=function getStyleSheet(){var cssText=this._sheet.cssText;return{id:STYLE_ELEMENT_ID,textContent:cssText};};StyleSheetManager.prototype.injectDeclaration=function injectDeclaration(prop,value){var _this2=this;var val=normalizeValue(value);var className=this.getClassName(prop,val);if(!className){className=createClassName(prop,val);this._addToCache(className,prop,val);var rules=createAtomicRules('.'+className,prop,value);rules.forEach(function(rule){_this2._sheet.insertRuleOnce(rule);});}return className;};StyleSheetManager.prototype._addToCache=function _addToCache(className,prop,value){var cache=this._cache;if(!cache.byProp[prop]){cache.byProp[prop]={};}cache.byProp[prop][value]=className;cache.byClassName[className]={prop:prop,value:value};};return StyleSheetManager;}();export default StyleSheetManager;","map":{"version":3,"sources":["C:/Users/arnol/code/entroprise/node_modules/react-web-gifted-chat/node_modules/react-native-web/dist/exports/StyleSheet/StyleSheetManager.js"],"names":["_classCallCheck","instance","Constructor","TypeError","createAtomicRules","hash","initialRules","WebStyleSheet","emptyObject","STYLE_ELEMENT_ID","createClassName","prop","value","hashed","normalizeValue","process","env","NODE_ENV","JSON","stringify","StyleSheetManager","_this","_cache","byClassName","byProp","_sheet","forEach","rule","insertRuleOnce","prototype","getClassName","val","cache","hasOwnProperty","getDeclaration","className","getStyleSheet","cssText","id","textContent","injectDeclaration","_this2","_addToCache","rules"],"mappings":"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","sourcesContent":["function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Copyright (c) 2016-present, Nicolas Gallagher.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @noflow\n */\n\nimport createAtomicRules from './createAtomicRules';\nimport hash from '../../vendor/hash';\nimport initialRules from './initialRules';\nimport WebStyleSheet from './WebStyleSheet';\n\nvar emptyObject = {};\nvar STYLE_ELEMENT_ID = 'react-native-stylesheet';\n\nvar createClassName = function createClassName(prop, value) {\n  var hashed = hash(prop + normalizeValue(value));\n  return process.env.NODE_ENV !== 'production' ? 'rn-' + prop + '-' + hashed : 'rn-' + hashed;\n};\n\nvar normalizeValue = function normalizeValue(value) {\n  return typeof value === 'object' ? JSON.stringify(value) : value;\n};\n\nvar StyleSheetManager = function () {\n  function StyleSheetManager() {\n    var _this = this;\n\n    _classCallCheck(this, StyleSheetManager);\n\n    this._cache = {\n      byClassName: {},\n      byProp: {}\n    };\n\n    this._sheet = new WebStyleSheet(STYLE_ELEMENT_ID);\n    initialRules.forEach(function (rule) {\n      _this._sheet.insertRuleOnce(rule);\n    });\n  }\n\n  StyleSheetManager.prototype.getClassName = function getClassName(prop, value) {\n    var val = normalizeValue(value);\n    var cache = this._cache.byProp;\n    return cache[prop] && cache[prop].hasOwnProperty(val) && cache[prop][val];\n  };\n\n  StyleSheetManager.prototype.getDeclaration = function getDeclaration(className) {\n    var cache = this._cache.byClassName;\n    return cache[className] || emptyObject;\n  };\n\n  StyleSheetManager.prototype.getStyleSheet = function getStyleSheet() {\n    var cssText = this._sheet.cssText;\n\n\n    return {\n      id: STYLE_ELEMENT_ID,\n      textContent: cssText\n    };\n  };\n\n  StyleSheetManager.prototype.injectDeclaration = function injectDeclaration(prop, value) {\n    var _this2 = this;\n\n    var val = normalizeValue(value);\n    var className = this.getClassName(prop, val);\n    if (!className) {\n      className = createClassName(prop, val);\n      this._addToCache(className, prop, val);\n      var rules = createAtomicRules('.' + className, prop, value);\n      rules.forEach(function (rule) {\n        _this2._sheet.insertRuleOnce(rule);\n      });\n    }\n    return className;\n  };\n\n  StyleSheetManager.prototype._addToCache = function _addToCache(className, prop, value) {\n    var cache = this._cache;\n    if (!cache.byProp[prop]) {\n      cache.byProp[prop] = {};\n    }\n    cache.byProp[prop][value] = className;\n    cache.byClassName[className] = { prop: prop, value: value };\n  };\n\n  return StyleSheetManager;\n}();\n\nexport default StyleSheetManager;"]},"metadata":{},"sourceType":"module"}