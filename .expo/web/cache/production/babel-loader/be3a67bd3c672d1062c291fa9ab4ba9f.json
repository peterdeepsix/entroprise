{"ast":null,"code":"function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var dataUriPattern=/^data:/;var ImageUriCache=function(){function ImageUriCache(){_classCallCheck(this,ImageUriCache);}ImageUriCache.has=function has(uri){var entries=ImageUriCache._entries;var isDataUri=dataUriPattern.test(uri);return isDataUri||Boolean(entries[uri]);};ImageUriCache.add=function add(uri){var entries=ImageUriCache._entries;var lastUsedTimestamp=Date.now();if(entries[uri]){entries[uri].lastUsedTimestamp=lastUsedTimestamp;entries[uri].refCount+=1;}else{entries[uri]={lastUsedTimestamp:lastUsedTimestamp,refCount:1};}};ImageUriCache.remove=function remove(uri){var entries=ImageUriCache._entries;if(entries[uri]){entries[uri].refCount-=1;}ImageUriCache._cleanUpIfNeeded();};ImageUriCache._cleanUpIfNeeded=function _cleanUpIfNeeded(){var entries=ImageUriCache._entries;var imageUris=Object.keys(entries);if(imageUris.length+1>ImageUriCache._maximumEntries){var leastRecentlyUsedKey=void 0;var leastRecentlyUsedEntry=void 0;imageUris.forEach(function(uri){var entry=entries[uri];if((!leastRecentlyUsedEntry||entry.lastUsedTimestamp<leastRecentlyUsedEntry.lastUsedTimestamp)&&entry.refCount===0){leastRecentlyUsedKey=uri;leastRecentlyUsedEntry=entry;}});if(leastRecentlyUsedKey){delete entries[leastRecentlyUsedKey];}}};return ImageUriCache;}();ImageUriCache._maximumEntries=256;ImageUriCache._entries={};export default ImageUriCache;","map":{"version":3,"sources":["C:/Users/arnol/code/entroprise/node_modules/react-web-gifted-chat/node_modules/react-native-web/dist/exports/Image/ImageUriCache.js"],"names":["_classCallCheck","instance","Constructor","TypeError","dataUriPattern","ImageUriCache","has","uri","entries","_entries","isDataUri","test","Boolean","add","lastUsedTimestamp","Date","now","refCount","remove","_cleanUpIfNeeded","imageUris","Object","keys","length","_maximumEntries","leastRecentlyUsedKey","leastRecentlyUsedEntry","forEach","entry"],"mappings":"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","sourcesContent":["function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar dataUriPattern = /^data:/;\n\nvar ImageUriCache = function () {\n  function ImageUriCache() {\n    _classCallCheck(this, ImageUriCache);\n  }\n\n  ImageUriCache.has = function has(uri) {\n    var entries = ImageUriCache._entries;\n    var isDataUri = dataUriPattern.test(uri);\n    return isDataUri || Boolean(entries[uri]);\n  };\n\n  ImageUriCache.add = function add(uri) {\n    var entries = ImageUriCache._entries;\n    var lastUsedTimestamp = Date.now();\n    if (entries[uri]) {\n      entries[uri].lastUsedTimestamp = lastUsedTimestamp;\n      entries[uri].refCount += 1;\n    } else {\n      entries[uri] = {\n        lastUsedTimestamp: lastUsedTimestamp,\n        refCount: 1\n      };\n    }\n  };\n\n  ImageUriCache.remove = function remove(uri) {\n    var entries = ImageUriCache._entries;\n    if (entries[uri]) {\n      entries[uri].refCount -= 1;\n    }\n    // Free up entries when the cache is \"full\"\n    ImageUriCache._cleanUpIfNeeded();\n  };\n\n  ImageUriCache._cleanUpIfNeeded = function _cleanUpIfNeeded() {\n    var entries = ImageUriCache._entries;\n    var imageUris = Object.keys(entries);\n\n    if (imageUris.length + 1 > ImageUriCache._maximumEntries) {\n      var leastRecentlyUsedKey = void 0;\n      var leastRecentlyUsedEntry = void 0;\n\n      imageUris.forEach(function (uri) {\n        var entry = entries[uri];\n        if ((!leastRecentlyUsedEntry || entry.lastUsedTimestamp < leastRecentlyUsedEntry.lastUsedTimestamp) && entry.refCount === 0) {\n          leastRecentlyUsedKey = uri;\n          leastRecentlyUsedEntry = entry;\n        }\n      });\n\n      if (leastRecentlyUsedKey) {\n        delete entries[leastRecentlyUsedKey];\n      }\n    }\n  };\n\n  return ImageUriCache;\n}();\n\nImageUriCache._maximumEntries = 256;\nImageUriCache._entries = {};\nexport default ImageUriCache;"]},"metadata":{},"sourceType":"module"}