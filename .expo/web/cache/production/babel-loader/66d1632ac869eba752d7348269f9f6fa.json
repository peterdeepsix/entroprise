{"ast":null,"code":"var support=function support(feature){if(typeof document===\"undefined\"){return false;}var fakeLink=document.createElement(\"link\");try{if(fakeLink.relList&&typeof fakeLink.relList.supports===\"function\"){return fakeLink.relList.supports(feature);}}catch(err){return false;}return false;};var linkPrefetchStrategy=function linkPrefetchStrategy(url,options){return new Promise(function(resolve,reject){if(typeof document===\"undefined\"){reject();return;}var link=document.createElement(\"link\");link.setAttribute(\"rel\",\"prefetch\");link.setAttribute(\"href\",url);Object.keys(options).forEach(function(key){link.setAttribute(key,options[key]);});link.onload=resolve;link.onerror=reject;var parentElement=document.getElementsByTagName(\"head\")[0]||document.getElementsByName(\"script\")[0].parentNode;parentElement.appendChild(link);});};var xhrPrefetchStrategy=function xhrPrefetchStrategy(url){return new Promise(function(resolve,reject){var req=new XMLHttpRequest();req.open(\"GET\",url,true);req.onload=function(){if(req.status===200){resolve();}else{reject();}};req.send(null);});};var supportedPrefetchStrategy=support(\"prefetch\")?linkPrefetchStrategy:xhrPrefetchStrategy;var preFetched={};var prefetch=function prefetch(url,options){return new Promise(function(resolve){if(preFetched[url]){resolve();return;}supportedPrefetchStrategy(url,options).then(function(){resolve();preFetched[url]=true;}).catch(function(){});});};export default prefetch;","map":{"version":3,"sources":["C:/Users/arnol/code/entroprise/.cache/prefetch.js"],"names":["support","feature","document","fakeLink","createElement","relList","supports","err","linkPrefetchStrategy","url","options","Promise","resolve","reject","link","setAttribute","Object","keys","forEach","key","onload","onerror","parentElement","getElementsByTagName","getElementsByName","parentNode","appendChild","xhrPrefetchStrategy","req","XMLHttpRequest","open","status","send","supportedPrefetchStrategy","preFetched","prefetch","then","catch"],"mappings":"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","sourcesContent":["const support = function(feature) {\n  if (typeof document === `undefined`) {\n    return false\n  }\n  const fakeLink = document.createElement(`link`)\n  try {\n    if (fakeLink.relList && typeof fakeLink.relList.supports === `function`) {\n      return fakeLink.relList.supports(feature)\n    }\n  } catch (err) {\n    return false\n  }\n  return false\n}\n\nconst linkPrefetchStrategy = function(url, options) {\n  return new Promise((resolve, reject) => {\n    if (typeof document === `undefined`) {\n      reject()\n      return\n    }\n\n    const link = document.createElement(`link`)\n    link.setAttribute(`rel`, `prefetch`)\n    link.setAttribute(`href`, url)\n\n    Object.keys(options).forEach(key => {\n      link.setAttribute(key, options[key])\n    })\n\n    link.onload = resolve\n    link.onerror = reject\n\n    const parentElement =\n      document.getElementsByTagName(`head`)[0] ||\n      document.getElementsByName(`script`)[0].parentNode\n    parentElement.appendChild(link)\n  })\n}\n\nconst xhrPrefetchStrategy = function(url) {\n  return new Promise((resolve, reject) => {\n    const req = new XMLHttpRequest()\n    req.open(`GET`, url, true)\n\n    req.onload = () => {\n      if (req.status === 200) {\n        resolve()\n      } else {\n        reject()\n      }\n    }\n\n    req.send(null)\n  })\n}\n\nconst supportedPrefetchStrategy = support(`prefetch`)\n  ? linkPrefetchStrategy\n  : xhrPrefetchStrategy\n\nconst preFetched = {}\n\nconst prefetch = function(url, options) {\n  return new Promise(resolve => {\n    if (preFetched[url]) {\n      resolve()\n      return\n    }\n\n    supportedPrefetchStrategy(url, options)\n      .then(() => {\n        resolve()\n        preFetched[url] = true\n      })\n      .catch(() => {}) // 404s are logged to the console anyway\n  })\n}\n\nexport default prefetch\n"]},"metadata":{},"sourceType":"module"}